<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="QFS">
    <title>Dashboard | QFS</title>

    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #635BFE;
            --warning-color: #FFAF30;
            --success-color: #18C139;
            --info-color: #C1BFDF;
            --dark-color: #3F405B;
            --gray-color: #6c757d;
            --light-bg: #f8f9fa;
        }
        
        body {
            background-color: #f5f6fa;
            font-family: 'Arial', sans-serif;
        }
        
        .bg-secondary {
            background-color: #2c3e50 !important;
        }
        
        .bg-info {
            background-color: var(--primary-color) !important;
        }
        
        .text-info-100 {
            color: var(--info-color) !important;
        }
        
        .text-warning {
            color: var(--warning-color) !important;
        }
        
        .text-primary {
            color: var(--primary-color) !important;
        }
        
        .text-success {
            color: var(--success-color) !important;
        }
        
        .text-dark {
            color: var(--dark-color) !important;
        }
        
        .text-gray-100 {
            color: var(--gray-color) !important;
        }
        
        .bg-white-50 {
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        /* Sidebar Styles */
        .side-navbar {
            width: 280px;
            height: 100vh;
            position: fixed;
            margin-left: 0;
            background-color: #2c3e50;
            z-index: 1000;
            transition: 0.5s;
        }
        
        .active-nav {
            margin-left: 0;
        }
        
        .my-container {
            transition: 0.4s;
            margin-left: 280px;
            min-height: 100vh;
        }
        
        .active-cont {
            margin-left: 0;
        }
        
        /* Navigation Styles */
        .list-option {
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .list-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .list-option.text-white {
            background-color: var(--primary-color);
        }
        
        /* Dashboard Cards */
        .dash-wallet-box {
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 1px solid #e9ecef;
        }
        
        .dash-wallet-box:hover {
            transform: translateY(-5px);
        }
        
        .dash-currency-sign {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background-color: var(--light-bg);
        }
        
        .dash-currency-sign img {
            max-width: 30px;
            max-height: 30px;
        }
        
        /* Profile Section */
        .dash-left-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
        }
        
        .dash-left-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Buttons */
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-warning {
            background-color: var(--warning-color);
            border-color: var(--warning-color);
            color: var(--dark-color);
        }
        
        .btn-success {
            background-color: var(--success-color);
            border-color: var(--success-color);
        }
        
        /* QR Code Section */
        .dash-profile-qr-div {
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }
        
        .dash-profile-qrCode {
            width: 120px;
            height: 120px;
        }
        
        .dash-profile-qrCode img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Contact Support */
        .contact-support {
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .contact-support .text-dark,
        .contact-support .text-gray-100 {
            color: rgba(255, 255, 255, 0.9) !important;
        }
        
        /* Typography */
        .f-13 { font-size: 13px; }
        .f-14 { font-size: 14px; }
        .f-15 { font-size: 15px; }
        .f-16 { font-size: 16px; }
        .f-18 { font-size: 18px; }
        .f-24 { font-size: 24px; }
        .f-32 { font-size: 32px; }
        
        .gilroy-medium { font-weight: 500; }
        .gilroy-Semibold { font-weight: 600; }
        .gilroy-regular { font-weight: 400; }
        
        .leading-15 { line-height: 15px; }
        .leading-17 { line-height: 17px; }
        .leading-18 { line-height: 18px; }
        .leading-20 { line-height: 20px; }
        .leading-22 { line-height: 22px; }
        .leading-30 { line-height: 30px; }
        
        /* Spacing */
        .mt-1 { margin-top: 0.25rem; }
        .mt-7 { margin-top: 0.75rem; }
        .mt-8 { margin-top: 0.8rem; }
        .mt-9 { margin-top: 0.9rem; }
        .mt-15 { margin-top: 1.5rem; }
        .mt-18 { margin-top: 1.8rem; }
        .mt-20 { margin-top: 2rem; }
        .mt-24 { margin-top: 2.4rem; }
        .mt-25 { margin-top: 2.5rem; }
        .mt-32 { margin-top: 3.2rem; }
        .mt-38 { margin-top: 3.8rem; }
        .mt-39 { margin-top: 3.9rem; }
        .mt-40 { margin-top: 4rem; }
        .mt-43 { margin-top: 4.3rem; }
        
        .ml-3 { margin-left: 0.3rem; }
        .ml-10 { margin-left: 1rem; }
        .ml-12 { margin-left: 1.2rem; }
        .ml-13 { margin-left: 1.3rem; }
        .ml-20 { margin-left: 2rem; }
        .ml-28 { margin-left: 2.8rem; }
        .ml-34 { margin-left: 3.4rem; }
        .ml-40 { margin-left: 4rem; }
        
        .mr-20 { margin-right: 2rem; }
        .mr-33 { margin-right: 3.3rem; }
        
        .px-1 { padding-left: 0.1rem; padding-right: 0.1rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        
        .gap-14 { gap: 1.4rem; }
        .gap-20 { gap: 2rem; }
        
        .w-154 { width: 154px; }
        .w-160 { width: 160px; }
        .w-268 { width: 268px; }
        
        .h-46 { height: 46px; }
        .h-63 { height: 63px; }
        .h-70 { height: 70px; }
        .h-78 { height: 78px; }
        .h-112 { height: 112px; }
        
        /* Layout */
        .dash-left-profile {
            align-items: center;
        }
        
        .dash-w-262 {
            max-width: 262px;
        }
        
        .dasboard-wallet-card {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
        
        .dash-check-all {
            width: 60px;
            height: 60px;
            border-radius: 12px;
        }
        
        /* Utility Classes */
        .cursor-pointer { cursor: pointer; }
        .l-s1 { letter-spacing: 1px; }
        .nscaleX-1 { transform: scaleX(-1); }
        .text-uppercase { text-transform: uppercase; }
        .w-break { word-break: break-word; }
        .w-inherit { width: inherit; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .my-container {
                margin-left: 0;
            }
            
            .side-navbar {
                margin-left: -280px;
            }
            
            .active-nav {
                margin-left: 0;
            }
            
            .dasboard-wallet-card {
                grid-template-columns: 1fr;
            }
            
            .dash-profile-flex-wrap {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar Section -->
    <div class="side-navbar active-nav d-flex justify-content-between flex-wrap flex-column" id="sidebar">
        <div class="bg-secondary vh-100 position-fixed d-flex flex-column w-inherit">
            <div>
                <a href="/" class="d-block p-4">
                    <img class="pay-logo img-fluid" src="/public/uploads/logos/logo.png" alt="QFS" style="max-height: 40px;">
                </a>
            </div>
            <div class="flex-grow-1 px-4 mt-4 bg-secondary position-relative overflow-auto">
                <ul class="list-unstyled ps-0 position-absolute w-100">

                    <!-- Dashboard -->
                    <li>
                        <a href="/dashboard" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-white bg-info">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-chart-pie fa-lg"></i>
                            </span>
                            <span>Dashboard</span>
                        </a>
                    </li>

                    <!-- Wallets -->
                    <li>
                        <a href="/wallet-list" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-wallet fa-lg"></i>
                            </span>
                            <span>Wallets</span>
                        </a>
                    </li>

                    <!-- Transactions Section Header -->
                    <li class="mb-3 d-flex align-items-center text-warning f-13 ml-3 mt-4 gilroy-Semibold text-uppercase">Transactions</li>

                    <!-- Transactions -->
                    <li>
                        <a href="/transactions" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-exchange-alt fa-lg"></i>
                            </span>
                            <span>Transactions</span>
                        </a>
                    </li>

                    <!-- Deposit Money -->
                    <li>
                        <a href="/deposit" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-arrow-down fa-lg"></i>
                            </span>
                            <span>Deposit Money</span>
                        </a>
                    </li>

                    <!-- Investment Dropdown -->
                    <li class="mb-2">
                        <div class="d-flex align-items-center list-option h-46 mt-2 text-info-100 cursor-pointer" data-bs-toggle="collapse" data-bs-target="#investmentMenu">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-chart-line fa-lg"></i>
                            </span>
                            <span class="flex-grow-1">Investment</span>
                            <i class="fas fa-chevron-down me-3"></i>
                        </div>
                        <div class="collapse" id="investmentMenu">
                            <ul class="list-unstyled ms-5 mt-2">
                                <li>
                                    <a href="/investment" class="mb-2 d-flex align-items-center list-option h-46 text-info-100">
                                        <span class="me-2">•</span>
                                        <span>Invest New</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/investment/log" class="mb-2 d-flex align-items-center list-option h-46 text-info-100">
                                        <span class="me-2">•</span>
                                        <span>Investment Log</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Send Money -->
                    <li>
                        <a href="/send" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-paper-plane fa-lg"></i>
                            </span>
                            <span>Send Money</span>
                        </a>
                    </li>

                    <!-- Request Money -->
                    <li>
                        <a href="/request" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-hand-holding-usd fa-lg"></i>
                            </span>
                            <span>Request Money</span>
                        </a>
                    </li>

                    <!-- Exchange Money -->
                    <li>
                        <a href="/exchange" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-sync-alt fa-lg"></i>
                            </span>
                            <span>Exchange Money</span>
                        </a>
                    </li>

                    <!-- Withdrawals Dropdown -->
                    <li class="mb-2">
                        <div class="d-flex align-items-center list-option h-46 mt-2 text-info-100 cursor-pointer" data-bs-toggle="collapse" data-bs-target="#withdrawalMenu">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-arrow-up fa-lg"></i>
                            </span>
                            <span class="flex-grow-1">Withdrawals</span>
                            <i class="fas fa-chevron-down me-3"></i>
                        </div>
                        <div class="collapse" id="withdrawalMenu">
                            <ul class="list-unstyled ms-5 mt-2">
                                <li>
                                    <a href="/withdraw" class="mb-2 d-flex align-items-center list-option h-46 text-info-100">
                                        <span class="me-2">•</span>
                                        <span>Withdraw Money</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/withdrawals" class="mb-2 d-flex align-items-center list-option h-46 text-info-100">
                                        <span class="me-2">•</span>
                                        <span>Withdrawal List</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/withdrawal/settings" class="mb-2 d-flex align-items-center list-option h-46 text-info-100">
                                        <span class="me-2">•</span>
                                        <span>Withdrawal Settings</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Others Section Header -->
                    <li class="mb-3 d-flex align-items-center text-warning f-13 ml-3 mt-4 gilroy-Semibold text-uppercase">Others</li>

                    <!-- Disputes -->
                    <li>
                        <a href="/disputes" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-gavel fa-lg"></i>
                            </span>
                            <span>Disputes</span>
                        </a>
                    </li>

                    <!-- Tickets -->
                    <li>
                        <a href="/tickets" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-ticket-alt fa-lg"></i>
                            </span>
                            <span>Tickets</span>
                        </a>
                    </li>

                    <!-- Profile -->
                    <li>
                        <a href="/profile" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-user fa-lg"></i>
                            </span>
                            <span>Profile</span>
                        </a>
                    </li>

                    <!-- Verifications -->
                    <li>
                        <a href="/verification" class="mb-2 d-flex align-items-center list-option h-46 mt-2 text-info-100">
                            <span class="ms-3 mr-3">
                                <i class="fas fa-id-card fa-lg"></i>
                            </span>
                            <span>Verifications</span>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="my-container active-cont bg-white-50">
        <!-- Header Section -->
        <nav class="navbar navbar-expand-lg sticky-top top-navbar bg-white p-3 border-bottom">
            <button class="btn border-0 menu-svg" id="menu-btn">
                <i class="fas fa-bars fa-lg"></i>
            </button>
            
            <div class="d-flex align-items-center ms-auto">
                <!-- Theme Switch -->
                <div class="form-check form-switch me-4">
                    <input class="form-check-input theme-check" type="checkbox" id="themeSwitch">
                    <label class="form-check-label" for="themeSwitch">
                        <i class="fas fa-moon"></i>
                    </label>
                </div>

                <!-- User Dropdown -->
                <div class="dropdown">
                    <button class="btn btn-link text-dark text-decoration-none dropdown-toggle d-flex align-items-center" type="button" id="userDropdown" data-bs-toggle="dropdown">
                        <div class="rounded-circle overflow-hidden me-2" style="width: 40px; height: 40px;">
                            <img src="/public/uploads/avatars/<%= user.avatar || 'default-avatar.png' %>" alt="Profile" class="img-fluid w-100 h-100">
                        </div>
                        <span class="d-none d-md-inline"><%= user.firstName %> <%= user.lastName %></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li>
                            <a class="dropdown-item" href="/profile">
                                <i class="fas fa-user me-2"></i>View Profile
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="/wallet-list">
                                <i class="fas fa-wallet me-2"></i>Check Wallet
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="/settings">
                                <i class="fas fa-cog me-2"></i>Settings
                            </a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item text-danger" href="/logout">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Dashboard Content -->
        <div class="position-relative">
            <div class="container-fluid py-4">
                <!-- Welcome Section -->
                <div class="d-flex justify-content-between dash-left-profile dash-profile-flex-wrap mb-4">
                    <div class="dash-left-profile d-flex gap-4 align-items-center">
                        <div class="dash-left-img">
                            <img src="/public/uploads/avatars/<%= user.avatar || 'default-avatar.png' %>" alt="Profile" class="img-fluid">
                        </div>
                        <div class="qr-icon">
                            <h1 class="mb-1 text-dark">
                                <span><%= user.firstName %> <%= user.lastName %></span>
                                <a href="/profile" class="px-1 text-decoration-none">
                                    <i class="fas fa-edit text-primary"></i>
                                </a>
                            </h1>
                            <p class="mb-0 text-muted">Welcome to QFS, here is a brief summary of your account.</p>
                        </div>
                    </div>

                    <div class="dash-right-profile d-flex align-items-end gap-3">
                        <div class="position-relative">
                            <a href="/deposit" class="btn btn-primary btn-lg w-160 position-relative">
                                <span class="mb-0">QFS DEPOSIT</span>
                                <i class="fas fa-arrow-right ms-2"></i>
                            </a>
                            <div class="position-absolute top-0 start-0 translate-middle badge bg-danger">
                                NEW
                            </div>
                        </div>
                        <a href="/sync" class="btn btn-warning btn-lg cursor-pointer w-160">
                            <span class="mb-0 text-dark">Sync Assets</span>
                            <i class="fas fa-sync-alt ms-2"></i>
                        </a>
                    </div>
                </div>

              <!-- In the wallet cards section -->
<div class="dasboard-wallet-card gap-4 mb-5">
    <% wallets.list.forEach(wallet => { %>
        <div class="dash-wallet-box bg-white">
            <div class="d-flex justify-content-between align-items-start">
                <div class="dash-box-one">
                    <p class="mb-1 text-primary fw-semibold"><%= wallet.currency %></p>
                </div>
                <div class="dash-currency-sign d-flex justify-content-center align-items-center">
                    <img src="/public/uploads/currencies/<%= wallet.currency.toLowerCase() %>.png" 
                         alt="<%= wallet.currency %>" 
                         class="img-fluid"
                         onerror="this.src='/public/uploads/currencies/default.png'">
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
                <p class="mb-0 display-6 fw-bold text-dark">
                    $ <%= wallet.balance.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) %>
                </p>
                <% if (wallet.isDefault) { %>
                    <span class="badge bg-success">Default</span>
                <% } %>
            </div>
        </div>
    <% }); %>
</div>

<!-- Total Balance Display -->
<div class="alert alert-info">
    <h5>Total Balance: $<%= wallets.totalBalance.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) %></h5>
</div>

<!-- Quick Actions Section -->
<div class="row g-3 mb-4">
    <% quickActions.forEach(action => { %>
        <div class="col-md-4 col-lg-2">
            <a href="<%= action.url %>" class="card text-decoration-none quick-action-card">
                <div class="card-body text-center">
                    <div class="mb-3" style="color: '<%= action.color || '#000' %>';">
                        <i class="<%= action.icon %> fa-2x"></i>
                    </div>
                    <h6 class="card-title"><%= action.title %></h6>
                    <p class="card-text small text-muted"><%= action.description %></p>
                </div>
            </a>
        </div>
    <% }); %>
</div>

<!-- Notifications Bell -->
<div class="position-relative d-inline-block">
    <button class="btn btn-outline-primary position-relative" id="notificationsDropdown" data-bs-toggle="dropdown">
        <i class="fas fa-bell"></i>
        <% if (notifications.unreadCount > 0) { %>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                <%= notifications.unreadCount %>
            </span>
        <% } %>
    </button>
    <div class="dropdown-menu dropdown-menu-end p-0" style="width: 300px;">
        <div class="list-group list-group-flush">
            <% notifications.list.forEach(notification => { %>
                <div class="list-group-item list-group-item-action <%= notification.status === 'unread' ? 'bg-light' : '' %>">
                    <div class="d-flex w-100 justify-content-between">
                        <h6 class="mb-1"><%= notification.title %></h6>
                        <small class="text-muted"><%= new Date(notification.createdAt).toLocaleDateString() %></small>
                    </div>
                    <p class="mb-1"><%= notification.message %></p>
                    <% if (notification.actionUrl) { %>
                        <a href="<%= notification.actionUrl %>" class="btn btn-sm btn-primary mt-2">
                            <%= notification.actionText || 'View' %>
                        </a>
                    <% } %>
                </div>
            <% }); %>
        </div>
    </div>
</div>

                <!-- Information Cards -->
                <div class="row g-4">
                    <!-- QFS Goal Card -->
                    <div class="col-12 col-xl-8">
                        <div class="dash-profile-qr-div bg-white">
                            <div class="alert alert-info border-0">
                                <h5 class="alert-heading">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <b>QFS Goal</b>
                                </h5>
                                <hr>
                                <p class="mb-0">
                                    The QFS releases funds to improve the well-being and quality of life for people in need, 
                                    often in areas affected by poverty, conflict, or natural disasters. These projects can involve 
                                    providing access to healthcare, clean water, education, or other essential resources.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Humanitarian Project Card -->
                    <div class="col-12 col-xl-4">
                        <div class="dash-profile-qr-div bg-white">
                            <div class="alert alert-warning border-0">
                                <h5 class="alert-heading">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <b>Submit Humanitarian Project</b>
                                </h5>
                                <hr>
                                <p class="mb-3">
                                    Upload Humanitarian Document. Please click the button below to upload your file.
                                </p>
                                <button class="btn btn-info" data-bs-toggle="modal" data-bs-target="#uploadModal">
                                    Start
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- QR Code Card -->
                    <div class="col-12 col-xl-4">
                        <div class="dash-profile-qr-div bg-white">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5 class="mb-0 text-dark fw-semibold">Profile QR Code</h5>
                                <a href="/profile" class="text-decoration-none">
                                    <i class="fas fa-edit text-primary"></i>
                                </a>
                            </div>
                            <div class="d-flex align-items-center">
                                <div class="dash-profile-qrCode mt-3">
                                    <img src="/public/uploads/qrcodes/<%= user._id %>.jpg" 
                                         alt="QR Code" 
                                         class="img-fluid rounded"
                                         onerror="this.src='/public/uploads/qrcodes/default.jpg'">
                                </div>
                                <div class="ms-4 qr-text">
                                    <p class="mb-1 fw-semibold text-dark">Send or Receive Money</p>
                                    <p class="mb-0 text-muted">Use the QR code to easily handle your transactions.</p>
                                </div>
                            </div>
                            <button class="btn btn-primary mt-3 w-100" id="printQrCodeBtn">
                                <i class="fas fa-print me-2"></i>
                                <span>Print Code</span>
                            </button>
                        </div>
                    </div>

                    <!-- Contact Support Card -->
                    <div class="col-12 col-xl-4">
                        <div class="contact-support">
                            <div class="d-flex align-items-center mb-3">
                                <div class="messages-box">
                                    <i class="fas fa-comments fa-3x text-white"></i>
                                </div>
                                <div class="ms-3">
                                    <h5 class="mb-0 text-white">Contact Ticket Support</h5>
                                </div>
                            </div>
                            <p class="mb-4 text-white-80">
                                Create a ticket on the problem you are facing and our team will get back to you soon. 
                                Our dedicated support team is here to assist you every step of the way.
                            </p>
                            <a href="/tickets/create" class="btn btn-light btn-sm">
                                <span class="fw-medium">Create Ticket Now</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="d-flex align-items-center justify-content-between bg-white w-100 px-4 py-3 border-top">
            <div class="d-flex align-items-center">
                <p class="mb-0">
                    Copyright © 2025&nbsp;
                    <a href="/" class="text-decoration-none">QFS</a>
                    &nbsp;|&nbsp;All Rights Reserved.
                </p>
            </div>
            <div class="d-flex align-items-center">
                <select class="form-select form-select-sm" style="width: auto;">
                    <option selected value="en">English</option>
                    <option value="es">Español</option>
                    <option value="fr">Français</option>
                    <option value="de">Deutsch</option>
                </select>
            </div>
        </footer>
    </div>

    <!-- Upload Modal -->
    <div class="modal fade" id="uploadModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Upload Your File</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <form action="/upload/doc" method="POST" enctype="multipart/form-data">
                    <div class="modal-body">
                        <input type="hidden" name="file_type" value="humanitarian">
                        <div class="mb-3">
                            <label for="projectName" class="form-label">Enter Project Name</label>
                            <input type="text" name="file_name" class="form-control" id="projectName" required>
                        </div>
                        <div class="mb-3">
                            <label for="projectFile" class="form-label">Upload PDF File</label>
                            <input type="file" name="file" class="form-control" id="projectFile" accept=".pdf" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        // Sidebar Toggle
        document.getElementById('menu-btn').addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('active-nav');
            document.querySelector('.my-container').classList.toggle('active-cont');
        });

        // Theme Switch
        document.getElementById('themeSwitch').addEventListener('change', function() {
            document.body.classList.toggle('dark-theme');
            // Save theme preference to localStorage
            localStorage.setItem('theme', this.checked ? 'dark' : 'light');
        });

        // Load saved theme
        if (localStorage.getItem('theme') === 'dark') {
            document.getElementById('themeSwitch').checked = true;
            document.body.classList.add('dark-theme');
        }

        // Print QR Code
        document.getElementById('printQrCodeBtn').addEventListener('click', function() {
            window.print();
        });

        // Auto-hide alerts after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const alerts = document.querySelectorAll('.alert');
                alerts.forEach(alert => {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                });
            }, 5000);
        });
    </script>
</body>
</html>