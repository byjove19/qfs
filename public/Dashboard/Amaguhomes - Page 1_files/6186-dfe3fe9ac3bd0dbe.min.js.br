"use strict";(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["6186"],{695920:function(e,t,r){r.d(t,{$J:()=>g,E3:()=>a,HJ:()=>n,Nj:()=>l,YW:()=>p,Z2:()=>h,ZL:()=>m,cc:()=>b,cv:()=>s,dt:()=>y,eC:()=>u,j$:()=>d,le:()=>c,os:()=>v,pP:()=>f,q7:()=>_,tx:()=>o,uA:()=>x,wZ:()=>i});let i="mini_community_cards--mini_cardBottomRowSizing--rK6OI",n="mini_community_cards--mini_cardImageContainer--w1MDy base_community_cards--base_cardImageContainer--M7dqa base_community_cards--_hasBorder--U9Tp6",a="mini_community_cards--mini_cardBottomRow_Metadata--u23Sv",s="mini_community_cards--mini_cardBottomRow_Metadata_AvatarContainer--g7JHe",l="mini_community_cards--mini_cardBottomRow_Metadata_Avatar--CmE9G",o="mini_community_cards--mini_cardBottomRow_Metadata_TextContainer--Bk0b2",d="mini_community_cards--mini_cardBottomRow_MetadataFocusBorder--WN6lc",c="mini_community_cards--mini_cardBottomRow_Metadata_FileIcon--Z99UM",u="mini_community_cards--mini_cardBottomRow_Metadata_Name--htTRx text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",m="mini_community_cards--mini_cardBottomRow_Metadata_NameOnly--Y7VQ9 text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",_="mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",g="mini_community_cards--mini_cardBottomRow_Metadata_AuthorName_WithHoverText--1QY-K mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",h="mini_community_cards--mini_cardBottomRow_HoverText--E5bcY mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",p="mini_community_cards--mini_cardHover_Center--l8ZPp mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",f="mini_community_cards--mini_cardHover_Cover--4XJbr mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",x="mini_community_cards--mini_cardHover_BottomRowRight--CkS8P mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",v="mini_community_cards--mini_cardHover_BottomLeft--fL7BE mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",b="mini_community_cards--mini_cardContainer--WpyM8",y="mini_community_cards--mini_cardContainerWithFocus---RCha"},119363:function(e,t,r){r.d(t,{Bb:()=>c,EO:()=>n,Iv:()=>s,LD:()=>m,Mz:()=>a,PI:()=>u,Q_:()=>d,Qx:()=>i,hf:()=>l,oA:()=>_,yF:()=>o});let i="share_button--shareButtonContainer--SN9Zz",n="share_button--legacyShareButtonContainer--eNNDf",a="share_button--noRightMargin--eaqem",s="share_button--shareButton--TKi3k share_button--textButtonContainer--VHfRC",l="share_button--shareButtonExtraMargin--Q3Vu8 share_button--shareButton--TKi3k share_button--textButtonContainer--VHfRC",o="share_button--shareButtonWorkshop--Q5zkg",d="share_button--shareButtonLoading--5NQLB",c="share_button--shareButtonPersonalDraftDisabled--BHgDs share_button--shareButton--TKi3k share_button--textButtonContainer--VHfRC",u="share_button--shareButtonFigjamDisabled--yAPl-",m="share_button--shareButtonSecondary--TZ-1A",_="share_button--textButton--okkx6 basic_form--primaryBtn--jDHWr basic_form--btn--t7Y67 ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk"},893371:function(e,t,r){r.d(t,{Br:()=>d,Bz:()=>m,CL:()=>_,Ob:()=>c,Rc:()=>i,U:()=>o,XH:()=>l,id:()=>a,ku:()=>s,lq:()=>n,nD:()=>u});let i="face_stamps--stamp--X3KKS",n="face_stamps--miniStampContainer---tGOe",a="face_stamps--stampImagePlaceholder--GCR54",s="face_stamps--miniStamp--MY-9h",l="face_stamps--stampContainer--dpWpw",o="face_stamps--faceStampButton--I3OrS",d="face_stamps--draggingStamp--uCr6-",c="face_stamps--draggingCopy--RWLhv",u="face_stamps--faceLabel--huVQr ellipsis--ellipsis--70pHK",m="face_stamps--faceLabelPlaceholder--phVtt",_="face_stamps--nonMiniStampPlaceholderContainer--tVlWg"},432231:function(e,t,r){r.d(t,{Pc:()=>a,SW:()=>d,W8:()=>i,i4:()=>n,nZ:()=>o,ue:()=>l,vE:()=>s});let i="dlt_universal_insert_collage--universalInsertCollageIcon--7wgJr",n="dlt_universal_insert_collage--collageIconContainer--o6Awn",a="dlt_universal_insert_collage--ignorePointerEvents--msbAv",s="dlt_universal_insert_collage--collageScaleContainer--1GbiQ",l="dlt_universal_insert_collage--collageImage--vTSAk",o="dlt_universal_insert_collage--errorBoundaryFallback--o65-4",d="dlt_universal_insert_collage--universalInsertCollageIconContainer----Yw0"},313125:function(e,t,r){r.d(t,{Ug:()=>v});var i=r(853505),n=r(577851),a=r(704516),s=r(627482),l=r(469271),o=r(658790),d=r(728039),c=r(363090),u=r(242802),m=r(479852),_=r(750077),g=r(227725),h=r(761169),p=r(457481);let f="edit_request",x="move_to_project";function v(e){let t=(0,n.I0)(),r=(0,p.fs)(),v=(0,p.qH)(),b=e.editorType===m.gg.WHITEBOARD&&!!e.org?.figjamDisabledAt,y=e.editorType===m.gg.SLIDES&&(0,a.unwrap)(e.org?.isSlidesDisabled),j=e.editorType===m.gg.SITES&&e.org?.isSitesDisabled,w=e.editorType===m.gg.COOPER&&e.org?.isCooperDisabled,T=(0,c.Yu)(),C=(0,u.xJ)();i.useEffect(()=>{let i=(0,o.BA)(f),n="true"===(0,o.BA)(x);i&&!T&&function(i){if(b||y||j||w||!r)return;let a=v.find(e=>e.id===i);if(a?.level!==_.V5.EDITOR||a.status!==g.eE.Pending)return;let c=e.ownerRole?.userId,u=C?.id;if(null==c||null==u||c!==u)return;let m=a.requesterUser?.handle;if(!m)return;let p=n&&r.isFreeUserOnly&&r.isInDraftsFolder&&!r.hasOrg,T={handle:m,requestType:_.V5.EDITOR,roleRequestId:i};t((0,l.K4)({type:h.az,data:{fileKey:r.file?.key??e.key,source:d.ot.editRequestExternal}})),p&&(0,s.E)(r.file,r.repo,t,{handlesVisualBell:!0,callback:e=>{(0,g.Gw)(t,g.eE.Approved,T)}}),(0,o.Zo)(f),(0,o.Zo)(x)}(i)},[e,C,r,v,b,y,j,w,T,t])}},457481:function(e,t,r){r.d(t,{fs:()=>_,qH:()=>m});var i=r(853505),n=r(577851),a=r(363240),s=r(45190),l=r(380904),o=r(13021),d=r(416792),c=r(10553),u=r(800583);function m(){let e=(0,d.uC)(),t=(0,s.DG)(c.ts6,{fileKey:e??""},{enabled:!!e});return(0,i.useMemo)(()=>t.data?.file?.fileRoleRequests??[],[t.data?.file?.fileRoleRequests])}function _(){let e=(0,n.v9)(e=>e.currentUserOrgId),t=(0,n.v9)(d.IE),r=(0,a.Dv)(o.O1).data??!0,m=(0,s.DG)(c.bsQ,{fileKey:t?.key??"",teamId:t?.team_id??null,currentOrgId:e??null});return(0,i.useMemo)(()=>{let e="loaded"===m.status&&m.data.file;if(!e)return null;let i=e.project,n=(0,l.O2)(i);return{file:t,repo:e.repo?{...(0,u._Y)(e.repo),canEdit:e.repo.canEdit}:null,hasOrg:!!e.org,isInDraftsFolder:n,isFreeUserOnly:r}},[t,m.status,m.data,r])}},270901:function(e,t,r){r.d(t,{E:()=>c});var i=r(750357),n=r(254797),a=r(53022),s=r.n(a),l=r(393890),o=r(22898),d=r(419517);function c(e){if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let t=e.dragState.dragPosition.subtract(e.dragState.dragOffset),r=(0,l.rV)(e.dragState.draggingResource)?o.Y:e.dragState.draggingResource.redirect_icon_url;return(0,n.createPortal)((0,i.jsx)("img",{src:r,alt:e.dragState.draggingResource.name,className:s()(d.Jk,{[d.SC]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},draggable:!1}),document.getElementById("fullscreen-root"))}},176222:function(e,t,r){r.d(t,{b:()=>o});var i=r(356403),n=r(840168),a=r(300977),s=r(53439),l=r(650447);function o(e){let t="whiteboard"===(0,i.fg)(),r=(0,l.hH)(),o=async i=>(e.insertAction(i),t&&(0,l.FL)({type:s.PP.ORG_FACE_STAMPS,source:e.triggeredFrom,options:{...r,query:e.searchQuery}}),await Promise.resolve());return(0,n.V)({resource:e.resource,draggingThumbMaxDimensions:e.draggingThumbMaxDimensions,onDragStart:e.onDragStart,isDraggingDisabled:e.isDraggingDisabled,recomputeCancelRectsOnPointerUp:e.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:e.clickToInsert_DEPRECATED,afterSuccessfulInsert:e.afterSuccessfulInsert},{insertAction:o,dragPreviewPointerPosition:a.q.RELATIVE,getDragPreviewSrc:()=>e.iconSrc,recordingKey:`insertable-facestamp-${e.resource.id}-${e.mini?"mini":"full"}`})}},455722:function(e,t,r){r.d(t,{k:()=>y});var i=r(577851),n=r(376131),a=r(404639),s=r(274014),l=r(807993),o=r(356403),d=r(913458),c=r(568064),u=r(408534),m=r(840168),_=r(300977),g=r(270280),h=r(118960),p=r(923016),f=r(53439),x=r(393890),v=r(22898),b=r(650447);function y(e){let t=(0,h.Mz)("useInsertablePlugin").unwrapOr(null),r=(0,h.tY)(t),y=(0,d.kd)(e.resource.plugin_id,e.triggeredFrom),j=(0,d.v8)(e.resource.plugin_id,e.triggeredFrom),w="whiteboard"===(0,o.fg)(),T=(0,b.hH)(),C=(0,l.C)(e.resource.plugin_id,y,j),I=(0,i.I0)(),E=C.length>0,k=(0,c.DG)(),R=(0,u.Jh)(k[e.resource.plugin_id]),q=(0,g.w)({isWidget:!1,id:e.resource.plugin_id}),{validatePublishedPluginInOrgAllowlist:A}=(0,c.pL)(e.resource.plugin_id);return(0,m.V)({resource:e.resource,draggingThumbMaxDimensions:e.draggingThumbMaxDimensions,onDragStart:e.onDragStart,isDraggingDisabled:e.isDraggingDisabled,recomputeCancelRectsOnPointerUp:e.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:e.clickToInsert_DEPRECATED,afterSuccessfulInsert:e.afterSuccessfulInsert},{insertAction:t=>{if(e.showRequestFlow)return Promise.resolve();let r=A();if(!(0,x.rV)(e.resource)&&!r)return Promise.resolve();if(R)q();else{let{e:r}=t;E?I(a.SP({type:s.jq,data:{pluginId:e.resource.plugin_id,target:{top:r.clientY,bottom:r.clientY,right:r.clientX,left:r.clientX,width:0,height:0},triggeredFrom:e.triggeredFrom}})):(0,x.rV)(e.resource)?j():y()}return w&&(0,b.FL)({id:e.resource.plugin_id,type:f.Eq.PLUGINS,source:e.triggeredFrom,options:{...T,query:e.searchQuery}}),Promise.resolve()},dragPreviewPointerPosition:_.q.CENTERED,getDragPreviewSrc:()=>(0,x.rV)(e.resource)?v.Y:e.resource.redirect_icon_url||"",onPointerDownCallback:()=>{!e.showRequestFlow&&((0,x.rV)(e.resource)||R||p.W.getAndCache(e.resource,r))},recordingKey:n.ar("plugin",e.resource.plugin_id)})}},220942:function(e,t,r){r.d(t,{H:()=>y});var i=r(750357),n=r(403706),a=r(539767),s=r(492342),l=r(53022),o=r.n(l),d=r(170913),c=r(568064),u=r(408534),m=r(823723),_=r(833633),g=r(984385),h=r(479852),p=r(393890),f=r(47867),x=r(185130),v=r(679032),b=r(400628);function y(e){let t=(0,f.M)(),r=(0,c.dZ)(),l=(0,u.Jh)(r[e.widget.plugin_id]),y="boolean"==typeof e.clickToInsert?e.clickToInsert&&!l:!l,{dragState:j,onInsertableResourcePointerDown:w}=(0,g.g)({clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:t,triggeredFrom:e.analytics.triggeredFrom,resource:e.widget,searchQuery:e.analytics.searchQuery}),T=(0,p.rV)(e.widget);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h,{"aria-label":(0,s.BZ)().figjam_a11y_inserts_modal?e.widget.name:void 0,className:o()({[v.dD]:!0,[x.Z]:!!j,[v.V0]:e.fillContainer,[v.d9]:e.context===h.gg.WHITEBOARD}),onClick:()=>{y&&a.y2.user("insert-widget",()=>{(0,m.A)({pluginID:e.widget.plugin_id,widgetName:e.widget.name,pluginVersionID:T?"":e.widget.id,triggeredFrom:"universal-insert"}),t()})},htmlAttributes:{onPointerDown:w},"data-testid":"widget-snapshot-draggable",children:[(0,i.jsx)("img",{src:e.src,alt:"",draggable:!1}),(0,i.jsx)("div",{className:v.Mc,children:T&&(0,i.jsx)(d.f,{svg:b.Z,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:b.Z})})]}),(0,i.jsx)(_.v,{dragState:j})]})}},852909:function(e,t,r){r.d(t,{l:()=>W});var i=r(750357),n=r(577851),a=r(273634),s=r(410802),l=r(29260),o=r(467827),d=r(492342),c=r(53022),u=r.n(c),m=r(158639),_=r(853505);function g(e){let{className:t,maxWidth:r,dep:n,children:a}=e,s=(0,_.useRef)(null),l=(0,_.useRef)(null);return(0,_.useLayoutEffect)(()=>{if(!s.current||!l.current)return;s.current.style.width="unset";let e=Math.ceil(l.current.getBoundingClientRect().width);s.current.style.width=`${e}px`},[n]),(0,i.jsx)("div",{className:t,ref:s,style:{maxWidth:r},children:(0,i.jsx)("span",{ref:l,children:a})})}var h=r(555792),p=r(590914),f=r(425212),x=r(524346),v=r(764333),b=r(469271),y=r(70523),j=r(871567),w=r(926941),T=r(356403),C=r(457481),I=r(728039),E=r(416792),k=r(269332),R=r(363240);r(607906);var q=r(864197),A=r(659461),S=r(225094),D=r(358852),N=r(157589),O=r(619369),P=r(877208),H=r(798870),B=r(95238),L=r(227725),M=r(761169),U=r(97448);function V({roleRequests:e,upgradeRequests:t,markRequestsAsRead:r,editRequestPermissionsData:s}){let d=(0,n.I0)(),c=(0,E.uC)(),u=(0,f.f)(a.k.MONETIZATION_EXPANSION),m=s.file?.key??c,_=e[0],g=(0,R.b9)(U.j),x=new Set([...e.map(e=>e.requesterUserId),...t.map(e=>e.userId)]).size,v=e.filter(e=>e.level<300).length;if(0===x)return null;let y=e[0]?.requesterUser??t[0]?.user;if(!y)return null;let T=1===x&&t.length&&!!t[0],C=T?t[0]:void 0,k=C&&(0,O.S2)((0,P.Jl)(C.request?.billableProductKey??"view"))?(0,P.Jl)(C.request?.billableProductKey??"view"):O.mI.VIEW,V=null;if(1===e.length&&_&&_.requesterUser&&0===t.length){let{id:e,level:t,requesterUserId:r,requesterUser:n}=_,{handleApprove:a,handleDeny:l}=(0,L.kV)(d,s,"file-and-seat-requests-tooltip",!0)({roleRequestId:e,requestType:t,handle:n.handle}),o={fileKey:c,userId:r,fileRoleRequestId:e,requestType:(0,L.qT)(t)};V=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.XT,{trackingOptions:u,trackingProperties:{...o,trackingDescriptor:j.y.DECLINE},onClick:l,variant:"destructiveSecondary",children:(0,p.t)("file_request_tooltip.decline")}),(0,i.jsx)(h.XT,{trackingOptions:u,trackingProperties:{...o,trackingDescriptor:j.y.APPROVE},onClick:a,variant:"primary",children:(0,p.t)("file_request_tooltip.approve")})]})}else m&&(V=(0,i.jsx)(h.XT,{trackingOptions:u,trackingProperties:{numFileRoleRequests:e.length,numUpgradeRequests:t.length,fileKey:m,trackingDescriptor:j.y.REVIEW,upgradeRequestId:C?.id??void 0,upgradeRequestUserId:C?.userId??void 0},variant:"secondary",onClick:()=>{T&&g(t[0]),d((0,b.K4)({type:M.az,data:{fileKey:m,source:I.ot.editRequestTooltip,tabToOpen:T?H.zs.APPROVE_SEAT_REQUEST:H.zs.REQUESTS}}))},children:(0,p.t)("file_request_tooltip.review")}));let F=(e=(0,p.t)("user_notifications.community.someone"))=>(0,i.jsx)(S.x,{color:"onbrand",fontWeight:"bold",truncate:!0,children:e.length<=18?e:`${e.slice(0,18).trim()}...`}),Z=F(y.handle);x>1&&(Z=(0,i.jsx)(S.x,{color:"onbrand",fontWeight:"regular",truncate:!0,children:(0,p.tx)("file_request_tooltip.and",{userHandle:F(y.handle),othersText:(0,i.jsx)(S.x,{color:"onbrand",fontWeight:"bold",children:(0,p.t)("file_request_tooltip.other_people",{numOthers:x-1})})})}));let z=T&&k!==O.mI.VIEW?(0,p.t)("file_request_tooltip.wants_a_seat_to_edit",{seatType:(0,N.qx)(k)}):v===e.length&&0===t.length?(0,p.t)("file_request_tooltip.wants_to_view",{numUsers:x}):(0,p.t)("file_request_tooltip.wants_to_edit",{numUsers:x});return(0,i.jsx)(w.Ui,{name:B.V4.FILE_ROLE_AND_SEAT_REQUESTS_TOOLTIP,trackingOptions:u,children:(0,i.jsx)(o.U,{mode:"dark",children:(0,i.jsxs)(q.j,{direction:"horizontal",verticalAlignItems:"center",padding:0,spacing:8,height:32,children:[(0,i.jsxs)("div",{...{className:"x1n2onr6 xvy4d1p xxk0z11"},children:[(0,i.jsx)(A.Yt,{user:{...y,email:y.email??""},size:24}),T?(0,i.jsx)("div",{...{className:"x10l6tqk x1kky2od xgzdjil xsugpx9 x16rqkct x1vjfegm x1yjdb4r"},children:(0,i.jsx)(D.UV,{type:k,removeBackgroundColor:!0,size:"16"})}):(0,i.jsx)("div",{className:"x10l6tqk x13vifvy x3m8u43 x1v4s8kt xols6we xorixrz xw84gpf"})]}),(0,i.jsxs)(q.j,{direction:"vertical",height:32,spacing:0,children:[Z,(0,i.jsx)(S.x,{color:"onbrand-secondary",truncate:!0,children:z})]}),(0,i.jsx)(q.j,{direction:"horizontal",width:"auto",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:8,children:V}),(0,i.jsx)("div",{...{className:"x1kz6nyh xe0pwq x19ypqd9"},children:(0,i.jsx)(q.j,{direction:"horizontal",verticalAlignItems:"center",height:48,padding:{left:8},children:(0,i.jsx)(h.Hz,{onClick:()=>r(!0),"aria-label":(0,p.t)("file_request_tooltip.close"),trackingProperties:{trackingDescriptor:j.y.CLOSE},trackingOptions:u,children:(0,i.jsx)(l.t,{})})})})]})})})}var F=r(114987);let Z="edit_request_tooltip--avatar--D9mCs",z="edit_request_tooltip--buttonContainer--4PrsB";function W(e){return(0,i.jsx)(m.X,{label:"EditRequestTooltip",children:(0,i.jsx)(G,{...e})})}function G({target:e,windowPadding:t,trackingProperties:r}){let n=(0,F.uU)(500),a=(0,y.sU)(),{unreadFileRoleRequests:s,unreadUpgradeRequests:l,markRequestsAsRead:o}=(0,F.uf)(),d=(0,F.kd)(s.slice(0,2)),c=(0,C.fs)(),u=(0,T.w4)(),m=(0,v.ug)();return n&&d&&(0!==s.length||0!==l.length&&a())&&c&&(!u||m)?(0,i.jsx)(Q,{target:e,unreadFileRoleRequests:s,unreadUpgradeRequests:l,markRequestsAsRead:o,editRequestPermissionsData:c,windowPadding:t,trackingProperties:r}):null}function Q({target:e,unreadFileRoleRequests:t,unreadUpgradeRequests:r,markRequestsAsRead:n,editRequestPermissionsData:s,windowPadding:l,trackingProperties:o}){let d=(0,F.mQ)(e),c=(0,y.sU)(),u=(0,f.f)(a.k.MONETIZATION_EXPANSION);return d?(0,i.jsx)(w.Ui,{name:"Edit Request Tooltip",properties:o,trackingOptions:u,children:(0,i.jsx)(k.AQ,{className:"edit_request_tooltip--tooltipContainer--01ax3",targetRect:d,disableDropdownScrollContainer:!0,propagateCloseClick:!0,windowPadding:l,maxWidth:1e3,children:r&&c()?(0,i.jsx)(V,{roleRequests:t,upgradeRequests:r,markRequestsAsRead:n,editRequestPermissionsData:s}):(0,i.jsx)(K,{requests:t,markRequestsAsRead:n,editRequestPermissionsData:s})},t.length+"-"+r?.length)}):null}function K({requests:e,markRequestsAsRead:t,editRequestPermissionsData:r}){return(0,i.jsx)(o.U,{mode:"dark",children:(0,i.jsxs)("div",{className:"edit_request_tooltip--contentContainer--Bub6Y","data-testid":"edit-request-tooltip","aria-label":(0,p.t)("role_request.edit_request_tooltip.edit_request_label"),role:"group",children:[(0,i.jsx)(Y,{requests:e}),(0,i.jsx)(X,{requests:e}),(0,i.jsx)(J,{requests:e,editRequestPermissionsData:r}),(0,i.jsx)(s.h,{onClick:()=>t(!0),"aria-label":(0,p.t)("general.close"),children:(0,i.jsx)(l.t,{})})]})})}function Y({requests:e}){let t=e.length<=2?e.length:1,r=e.length-t;return(0,i.jsxs)("div",{className:"edit_request_tooltip--avatarContainer--lNhAl",children:[e.slice(0,t).map((e,t)=>(0,i.jsx)(x.q,{adtlClassName:Z,size:24,entity:{id:e.requesterUserId,name:e.requesterUser?.handle,img_url:e.requesterUser?.imgUrl},style:{zIndex:-t}},e.id)),r>0&&(0,i.jsx)(x.q,{adtlClassName:u()(Z,"edit_request_tooltip--avatarRemainder--gElCB"),size:24,entity:{id:"-1",name:r.toString()},style:{zIndex:-t}})]})}function X({requests:e}){let t=(e=(0,p.t)("user_notifications.community.someone"))=>(0,i.jsx)("b",{children:e.length<=18?e:`${e.slice(0,18).trim()}...`}),r=(()=>{switch(e.length){case 1:return(0,p.tx)("role_request.edit_request_tooltip.user_wants_to_request_type",{userHandle:t(e[0].requesterUser?.handle),requestType:(0,L.gk)(e[0].level)});case 2:return(0,p.tx)("role_request.edit_request_tooltip.user1_and_user2_request_access",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:t(e[1].requesterUser?.handle)});default:return(0,p.tx)("role_request.edit_request_tooltip.user_and_others_request_access",{userHandle:t(e[0].requesterUser?.handle),othersText:(0,i.jsx)("b",{children:(0,p.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1})})})}})(),n=1===e.length?137:158;return(0,i.jsx)(g,{className:"edit_request_tooltip--textContainer--B2Lyw",maxWidth:n,dep:e,children:(0,d.BZ)().edit_request_reformat?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(()=>{switch(e.length){case 1:return t(e[0].requesterUser?.handle);case 2:let r=t(e[0].requesterUser?.handle),n=t(e[1].requesterUser?.handle);if(e[0].requesterUser?.handle.length&&e[1].requesterUser?.handle.length&&e[1].requesterUser?.handle.length+e[0].requesterUser?.handle.length>18)return(0,p.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:(0,i.jsx)("b",{children:(0,p.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1})})});return(0,p.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:r,userHandle2:n});default:return(0,p.tx)("role_request.edit_request_tooltip.user1_and_user2",{userHandle1:t(e[0].requesterUser?.handle),userHandle2:(0,i.jsx)("b",{children:(0,p.tx)("role_request.edit_request_tooltip.othersText",{numOthers:e.length-1})})})}})()}),(0,i.jsx)("div",{children:(()=>{if(1!==e.length)return(0,p.tx)("role_request.edit_request_tooltip.request_access");{let t=(0,L.gk)(e[0].level);return(0,p.tx)("role_request.edit_request_tooltip.wants_to_request_type",{requestType:t})}})()})]}):(0,i.jsx)(i.Fragment,{children:r})})}function J({requests:e,editRequestPermissionsData:t}){let r=(0,n.I0)(),s=(0,E.uC)(),l=t.file?.key??s,o=(0,f.f)(a.k.MONETIZATION_EXPANSION),d=e[0];return 1===e.length&&d&&d.requesterUser?(0,i.jsx)("div",{className:z,children:(0,i.jsx)($,{id:d.id,level:d.level,requesterUserId:d.requesterUserId,userHandle:d.requesterUser.handle,editRequestPermissionsData:t})}):l?(0,i.jsx)("div",{className:z,children:(0,i.jsx)(h.XT,{trackingOptions:o,trackingProperties:{numFileRoleRequests:e.length,trackingDescriptor:j.y.VIEW_SHARE_MODAL},onClick:()=>{l&&r((0,b.K4)({type:M.az,data:{fileKey:l,source:I.ot.editRequestTooltip}}))},variant:"secondary",children:(0,p.tx)("role_request.edit_request_tooltip.view_button_text")})}):null}function $(e){let{id:t,level:r,requesterUserId:s,userHandle:l,editRequestPermissionsData:o}=e,d=(0,f.f)(a.k.MONETIZATION_EXPANSION),c=(0,n.I0)(),u=(0,E.uC)(),{handleApprove:m,handleDeny:_}=(0,L.kV)(c,o,"edit-request-tooltip")({roleRequestId:t,requestType:r,handle:l}),g={fileKey:u,userId:s,fileRoleRequestId:t,requestType:(0,L.qT)(r)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.XT,{trackingOptions:d,trackingProperties:{...g,trackingDescriptor:j.y.DENY},trackingEventName:"Edit Request Tooltip - Request Denied",onClick:_,variant:"destructiveLink",children:(0,p.tx)("request_row.deny")}),(0,i.jsx)(h.XT,{trackingOptions:d,trackingProperties:{...g,trackingDescriptor:j.y.APPROVE},onClick:m,variant:"secondary",children:(0,p.tx)("request_row.approve")})]})}},114987:function(e,t,r){r.d(t,{kd:()=>b,mQ:()=>p,uU:()=>h,uf:()=>v});var i=r(853505),n=r(577851),a=r(273634),s=r(632959),l=r(457481),o=r(363090),d=r(242802),c=r(373968),u=r(533371),m=r(554484);let _="read-file-requests",g="read-upgrade-requests";function h(e){let[t,r]=(0,i.useState)(!1),n=(0,o.Yu)();return(0,i.useEffect)(()=>{if(n)return;let t=setTimeout(()=>r(!0),e);return()=>clearTimeout(t)},[n,e]),t}function p(e){let[t,r]=(0,i.useState)(),n=(0,o.Yu)();return(0,i.useLayoutEffect)(()=>{if(n)return;let t=()=>{let t=e.getBoundingClientRect(),i=new DOMRect(t.left,t.top,t.width,t.height);i.x+=6,i.y+=6,r(i)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[n,e]),t}function f(e,t,r,n){let l=(0,d.dO)(),o=function(e){try{return new Set(JSON.parse(localStorage.getItem(e)??"[]"))}catch(t){return(0,s.Jz)(a.k.MONETIZATION_EXPANSION,Error(`Failed to parse read file requests from storage: ${t}`)),localStorage.removeItem(e),null}}(t);return(0,i.useMemo)(()=>null===o?[]:e.filter(e=>!o.has(e.id)&&r(e)!==l),[e,o,l,r,n])}function x(e,t){let r=new Set(e.map(e=>e.id));localStorage.setItem(t,JSON.stringify([...r]))}function v(){let[e,t]=(0,i.useState)(0),r=(0,l.qH)(),a=(0,c.A)(),s=(0,n.v9)(e=>e.modalShown?.type===u.S),o=f(r,_,e=>e.requesterUserId,e),d=f(a,g,e=>e.userId,e),m=(0,i.useCallback)(e=>{x(r,_),x(a,g),e&&t(e=>e+1)},[r,a]);return(0,i.useEffect)(()=>{s&&(o.length>0||d.length>0)&&m(!0)},[s,m,o.length,d.length]),{unreadFileRoleRequests:o,unreadUpgradeRequests:d,markRequestsAsRead:m}}function b(e){let t=e.map(e=>e.requesterUser?.imgUrl??null),r=0===e.length;return(0,m.u)(r,t)}},115469:function(e,t,r){r.d(t,{y:()=>l});var i=r(750357),n=r(53022),a=r.n(n),s=r(926941);function l({numEditRequests:e,isLegacyPosition:t}){let r=a()("badge--shareButtonBadge--Cjucm",{"badge--legacyPosition--2vfmk":t});return(0,i.jsx)(s.Ui,{name:"Share Button Badge",properties:{numRequests:e},children:(0,i.jsx)("div",{className:r})})}},830141:function(e,t,r){r.d(t,{f:()=>a});var i=r(750357),n=r(885105);function a(){return(0,i.jsx)("div",{className:"open_sessions_icon--container--AqULF","data-testid":"openSessionsIcon",children:(0,i.jsx)(n.k,{})})}},656993:function(e,t,r){r.d(t,{D:()=>S});var i=r(750357),n=r(853505),a=r(363240),s=r(704516),l=r(45190),o=r(158639),d=r(661193),c=r(555792),u=r(590914),m=r(659461),_=r(768123),g=r(70523),h=r(926941),p=r(356403),f=r(834161),x=r(845277),v=r(10553),b=r(756809),y=r(339189),j=r(377064);let w=new class{notifyViewerRestrictedDraftShared(e){return j.GR.validate(({xr:t})=>t.put(`/api/viewer_restricted_draft/${e}/notify`))}dismissViewerRestrictedDraftShared(e){return j.GR.validate(({xr:t})=>t.put(`/api/viewer_restricted_draft/${e}/dismiss`))}};var T=r(269332),C=r(114987),I=r(584102),E=r(386163),k=r(182638),R=r(31441);function q(){return(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"shared_vr_draft_tooltip--svg--vZ42T",children:[(0,i.jsx)("path",{d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8Z",fill:"#FFCD29"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.30796 4.53016V9.09594H8.6777V4.53016H7.30796Z",fill:"black"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.9925 10.2382C8.49683 10.2382 8.90566 10.6471 8.90566 11.1514V11.214C8.90566 11.7183 8.49683 12.1272 7.9925 12.1272C7.48818 12.1272 7.07935 11.7183 7.07935 11.214V11.1514C7.07935 10.6471 7.48818 10.2382 7.9925 10.2382Z",fill:"black"})]})}let A=[I.I.type,k.pU.type,E.x.type];function S(e){return(0,i.jsx)(o.X,{label:"SharedVrDraftTooltip",children:(0,i.jsx)(D,{...e})})}function D({file:e,target:t}){let r=(0,C.uU)(500),n=(0,p.w4)(),o=(0,l.DG)(v.aHX,{fileKey:e.key,orgId:e.parentOrgId||null,teamId:e.teamId||null}),d=(0,f.YA)(e.editorType),{handleUpgrade:c,getUpgradeEligibility:u}=(0,b.eW)({entryPoint:_.bH.IN_EDITOR_RESTRICTED_DRAFT}),m=(0,a.Dv)(x.Tl);if(m&&A.includes(m)||!r||"loaded"!==o.status)return null;let g=(0,s.unwrap)(o.data.viewerRestrictedDraftAccessLog);if(!g||n||!e.parentOrgId&&!e.teamId||!o.data.file?.isDraftFile)return null;let h=o.data.currentUser?.baseOrgUser,j=o.data.currentUser?.teamUser;if(!(e.parentOrgId?h:j)||g.dismissedAt||u(d)!==y.V.CAN_UPGRADE)return null;let w=g.viewerUser?.name,T=c({licenseType:d,editorType:e.editorType,upgradeReason:R.t.DRAFTS_SHARE,entryPoint:_.bH.IN_EDITOR_RESTRICTED_DRAFT});return(0,i.jsx)(N,{target:t,viewerUserName:w,file:e,orgUser:h,teamUser:j,handleUpgrade:T})}function N({target:e,viewerUserName:t,file:r,orgUser:a,teamUser:s,handleUpgrade:l}){let o=(0,C.mQ)(e),m=(0,g.Sh)(!!a),[_,p]=(0,n.useState)(!1);if(!m||_||!o)return null;let f=a?.org??s?.team;if(!f)return null;let x=()=>{w.dismissViewerRestrictedDraftShared(r.key),p(!0)},v=(0,u.tx)("viewer_restricted_tooltip.teammates_cant_access_this_file"),b=t?(0,u.tx)("viewer_restricted_tooltip.to_collaborate_in_this_draft",{fileOpenerName:t}):(0,u.tx)("viewer_restricted_tooltip.to_collaborate_in_this_draft_no_name");return(0,i.jsx)(h.Ui,{name:"VR Draft Share Notification Tooltip",children:(0,i.jsx)(T.AQ,{targetRect:o,disableDropdownScrollContainer:!0,showPoint:!0,propagateCloseClick:!0,maxWidth:384,children:(0,i.jsxs)("div",{className:d.B.flex.flexRow.gap14.mb4.mt4.ml8.mr8.$,"data-testid":"SharedVrDraftTooltipView",children:[(0,i.jsx)(O,{plan:f}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:d.B.colorTextOnbrand.fontBold.$,children:v}),(0,i.jsx)("div",{className:d.B.colorTextOnbrandSecondary.mt2.$,children:b}),(0,i.jsxs)("div",{className:d.B.flex.flexRow.mt8.gap8.$,children:[(0,i.jsx)(c.CN,{className:"shared_vr_draft_tooltip--ignoreButton--fRQFW",onClick:x,children:(0,u.tx)("viewer_restricted_tooltip.ignore")}),(0,i.jsx)(c.r,{variant:"primary",type:"submit",onClick:e=>{p(!0),l(e),x()},children:(0,u.tx)("viewer_restricted_tooltip.get_upgraded_seat")})]})]})]})})})}function O({plan:e}){let t={imgUrl:e.imgUrl??void 0,id:e.id,name:e.name};return(0,i.jsxs)("div",{className:"shared_vr_draft_tooltip--svgContainer--uNBLr",children:[(0,i.jsx)(m.Ir,{team:t,size:m.DZ.LARGE}),(0,i.jsx)(q,{})]})}},22898:function(e,t,r){r.d(t,{Y:()=>i});let i=`data:image/svg+xml;utf8,<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15 23L18 9L17.0222 8.79047L14.0222 22.7905L15 23ZM12.304 12.2072L8.414 16.0962L12.303 19.9852L11.596 20.6922L7 16.0962L7.354 15.7432L11.596 11.5002L12.304 12.2072ZM24.546 15.7432L20.304 11.5002H20.303L19.596 12.2072L23.486 16.0962L19.596 19.9852L20.303 20.6922L24.9 16.0962L24.546 15.7432Z" fill="black" fill-opacity="0.3"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.92869 31.7293L6.18693 30.7632C6.7641 30.9175 7.37164 31 8 31H9.77778V32H8C7.28368 32 6.58934 31.9059 5.92869 31.7293ZM22.2222 32V31H24C24.6284 31 25.2359 30.9175 25.8131 30.7632L26.0713 31.7293C25.4107 31.9059 24.7163 32 24 32H22.2222ZM28.0006 30.9294L27.4998 30.0638C28.5625 29.449 29.449 28.5625 30.0638 27.4998L30.9294 28.0006C30.227 29.2147 29.2147 30.227 28.0006 30.9294ZM32 9.77778H31V8C31 7.37164 30.9175 6.7641 30.7632 6.18693L31.7293 5.9287C31.9059 6.58934 32 7.28368 32 8V9.77778ZM30.9294 3.99936L30.0638 4.50017C29.449 3.43754 28.5625 2.55101 27.4998 1.93619L28.0006 1.07063C29.2147 1.77305 30.227 2.78535 30.9294 3.99936ZM9.77778 0H8C7.28368 0 6.58934 0.0941465 5.9287 0.270741L6.18693 1.23682C6.7641 1.08254 7.37164 1 8 1H9.77778V0ZM3.99936 1.07063L4.50017 1.93619C3.43754 2.55101 2.55101 3.43754 1.93619 4.50017L1.07063 3.99936C1.77305 2.78535 2.78535 1.77305 3.99936 1.07063ZM0 22.2222H1V24C1 24.6284 1.08254 25.2359 1.23682 25.8131L0.270741 26.0713C0.0941465 25.4107 0 24.7163 0 24V22.2222ZM1.07063 28.0006L1.93619 27.4998C2.55101 28.5625 3.43754 29.449 4.50017 30.0638L3.99936 30.9294C2.78535 30.227 1.77305 29.2147 1.07063 28.0006ZM0 20.4444H1V16.8889H0V20.4444ZM0 15.1111H1V11.5556H0V15.1111ZM0 9.77778H1V8C1 7.37164 1.08254 6.7641 1.23682 6.18693L0.270741 5.92869C0.0941466 6.58934 0 7.28368 0 8V9.77778ZM11.5556 0V1H15.1111V0H11.5556ZM16.8889 0V1H20.4444V0H16.8889ZM22.2222 0V1H24C24.6284 1 25.2359 1.08254 25.8131 1.23682L26.0713 0.270741C25.4107 0.0941466 24.7163 0 24 0H22.2222ZM32 11.5556H31V15.1111H32V11.5556ZM32 16.8889H31V20.4444H32V16.8889ZM32 22.2222H31V24C31 24.6284 30.9175 25.2359 30.7632 25.8131L31.7293 26.0713C31.9059 25.4107 32 24.7163 32 24V22.2222ZM20.4444 32V31H16.8889V32H20.4444ZM15.1111 32V31H11.5556V32H15.1111Z" fill="black" fill-opacity="0.3"/>
</svg>
`},710430:function(e,t,r){r.d(t,{H:()=>j});var i=r(750357),n=r(853505),a=r(577851),s=r(944365),l=r(5929),o=r(810973),d=r(857579),c=r(3726),u=r(561988),m=r(723014),_=r(950812),g=r(113020),h=r(689342),p=r(574059),f=r(342534),x=r(590914),v=r(252764),b=r(456001),y=r(260736);function j(e){let{onSuccess:t}=e,r=m.z.object({link:m.z.string()}),{manager:d}=c.l0.useForm({schema:r}),p=d.watch("link"),y=!(0,_.w1)(p),j=(0,h.D9)(p);n.useEffect(()=>{j!==p&&d.methods.clearErrors("link")},[j,p,d]);let T=(0,a.I0)(),C=n.useCallback(({link:e})=>{let[r]=(0,g.zR)(T,e);if(r?.valid){d.methods.clearErrors("link"),t();return}(0,_.BJ)(T,e,v._F.MODAL).valid?(d.methods.clearErrors("link"),t()):d.setError("link",(0,x.t)("whiteboard.embeds.insert_embed_modal.invalid_link_error_message"))},[T,t,d]),I=n.useId(),E=!(0,b.QF)()?.shouldOptimizeForIpadApp;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.l0,{manager:d,onSubmit:C,children:(0,i.jsxs)(c.l0.Row,{name:"link",label:(0,i.jsx)(s.N,{htmlFor:I,children:(0,x.t)("whiteboard.embeds.insert_embed_modal.public_link_label")}),children:[(0,i.jsxs)("div",{className:"insert_media_modal--linkInputRow--QZfZD",children:[(0,i.jsx)(u.o,{id:I,autoComplete:"off",autoFocus:E,placeholder:(0,x.t)("whiteboard.embeds.insert_embed_modal.paste_a_public_link"),type:"url"}),(0,i.jsx)(l.zx,{type:"submit",disabled:y,children:(0,x.tx)("whiteboard.embeds.insert_embed_modal.add")})]}),(0,i.jsx)(c.l0.Helper,{children:(0,i.jsx)("div",{children:(0,x.tx)("whiteboard.embeds.insert_embed_modal.add_media_from_across_the_web",{learnMoreLink:(0,i.jsx)(o.r,{href:"https://help.figma.com/hc/articles/4414079911575",newTab:!0,trusted:!0,children:(0,x.tx)("whiteboard.embeds.insert_embed_modal.learn_more")})})})})]})}),!f.ZP.isIpadNative&&(0,i.jsx)(w,{})]})}function w(){return(0,i.jsxs)("div",{className:"insert_media_modal--examplesContainer--uTa4l",children:[(0,i.jsx)("div",{className:"insert_media_modal--exampleHeader--uz8dd",children:(0,x.tx)("whiteboard.embeds.insert_embed_modal.try_linking_to_sites_like")}),(0,i.jsx)("div",{className:"insert_media_modal--iconsContainer--TrGnU",children:[{key:"figma",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.figma"),url:"https://figma.com/",srcColor:(0,p.o1)("7ea1b6f90b29ea190de9f069109ba70cdb731c3e")},{key:"youtube",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.youtube"),url:"https://youtube.com/",srcColor:(0,p.o1)("27da640990b84fd2d3133d90c7af66d8cf212a41")},{key:"vimeo",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.vimeo"),url:"https://vimeo.com/",srcColor:(0,p.o1)("7ef2e69ffc73f6e90f9fa5e90d485e623c69ed10")},{key:"loom",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.loom"),url:"https://loom.com/",srcColor:(0,p.o1)("097eb54967f52a9ad067434278365eba38bca3c3")},{key:"spotify",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.spotify"),url:"https://spotify.com/",srcColor:(0,p.o1)("1c81468ec0a9eccd0c0cdd21b9d4f6a6477dcc8a")},{key:"codepen",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.codepen"),url:"https://codepen.io/",srcColor:(0,p.o1)("76ecbaf33bb0485666ef32e5afaf73b4add66fd7")},{key:"asana",name:(0,x.t)("whiteboard.embeds.insert_embed_modal.asana"),url:"https://asana.com/",srcColor:(0,p.o1)("67c0efb6b111e5fd5b3153057bbddb000ec04fca")}].map(e=>(0,i.jsx)("div",{className:"insert_media_modal--icon---lOIi",children:(0,i.jsx)(d.l,{className:"insert_media_modal--iconLink--I3CGY",href:e.url,htmlAttributes:{"data-tooltip-type":y.fR.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip":e.name},newTab:!0,children:(0,i.jsx)("img",{className:"insert_media_modal--iconImage--eHcsT",src:e.srcColor,alt:e.name})})},e.key))})]})}},588237:function(e,t,r){r.d(t,{n:()=>k});var i=r(750357),n=r(853505),a=r(577851),s=r(53022),l=r.n(s),o=r(238573),d=r(458780),c=r(143294),u=r(134605),m=r(739842),_=r(240473),g=r(590914),h=r(274008),p=r(469271),f=r(926941),x=r(73838),v=r(712824),b=r(570912),y=r(916078),j=r(41277),w=r(678064);let T="share_link_modal--section--GhTQn";var C=r(349821),I=r(315238);function E({fileKey:e,onRequestClose:t,alreadyCopied:r}){let s=(0,a.I0)(),v=x.t1.File.useValue(e).data,y=v?.url||"",j=(0,a.v9)(e=>!e.user),[E,k]=(0,n.useState)(!!r),R=()=>{E||(k(!0),s(h.fB({url:y})))};return(0,n.useEffect)(()=>{if(E){let e=setTimeout(()=>{k(!1)},5e3);return()=>clearTimeout(e)}},[E]),(0,i.jsxs)(f.Ui,{name:"Share Link Modal",children:[(0,i.jsx)("div",{className:T,children:(0,g.tx)("figjam_try.share_link_modal.title")}),(0,i.jsx)("div",{className:T,children:(0,i.jsx)(m.Sc,{readOnly:!0,value:y,onClick:R,className:"share_link_modal--input--NBW4t"})}),(0,i.jsx)("div",{className:l()(j&&T),children:(0,i.jsx)(m.RS,{fullWidth:!0,onClick:R,trackingProperties:{buttonContext:"Copy link"},children:(0,i.jsxs)("span",{className:"share_link_modal--buttonContent--68vjK",children:[(0,i.jsx)(_.n,{svg:C.Z,className:"share_link_modal--linkIcon--4eCvo"}),E?(0,g.t)("figjam_try.link_copied"):(0,g.t)("figjam_try.copy_link")]})})}),j&&(0,i.jsxs)("div",{className:"share_link_modal--anonymousUserSection--jOd1S",children:[(0,i.jsx)(_.n,{svg:I.Z,className:"share_link_modal--teamIcon--qe0-H"}),(0,i.jsxs)("span",{children:[(0,g.tx)("figjam_try.share_link_modal.cta_description")," ",(0,i.jsx)(m.Z6,{role:"button",onClick:()=>{t(),s(c.S1({origin:"figjam_try_share_modal",formState:u.zd.SIGN_UP,redirectUrl:(0,o.BT)(d.ZP.location.pathname,{[w.x0.key]:w.x0.value}),signedUpFromOpenSession:!0})),s(p.K4({type:b.m,data:{headerText:(0,g.t)("fullscreen.toolbar.create_an_account_to_do_more_with_fig_jam")}}))},trackingProperties:{buttonContext:"Create account"},trusted:!0,children:(0,g.tx)("figjam_try.share_link_modal.cta")})]})]})]})}let k=(0,v.Y3)(function({fileKey:e,alreadyCopied:t}){let r=(0,a.I0)(),n=()=>{r(p.hV())};return(0,i.jsx)(j.fv,{targetKey:w.kQ,width:300-2*j.zN,shouldCenterArrow:y.Ht.FALLBACK,topPadding:4,dismissModal:n,hideCloseButton:!0,animateQuickly:!0,children:(0,i.jsx)(E,{fileKey:e,onRequestClose:n,alreadyCopied:t})})},"ShareLinkModal")},528842:function(e,t,r){r.d(t,{y:()=>l});var i=r(750357),n=r(857579),a=r(661193),s=r(590914);let l=(0,r(178922).x2)("share_button_disabled_personal_draft",function(e){let{isCurrentUserFileOwner:t}=e;return t?(0,i.jsxs)("div",{className:a.B.cursorDefault.colorTextTooltip.$,children:[(0,i.jsx)("span",{children:(0,s.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_for_personal_drafts")}),(0,i.jsx)("div",{className:a.B.bl1.hFull.inline.bSolid.colorBorderMenu.ml8.mr8.$}),(0,i.jsx)(n.l,{href:"/files/drafts-to-move",className:a.B.cursorPointer.noUnderline.fontBold.colorTextTooltip.$,children:(0,s.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_visit_drafts_to_move_link")})]}):(0,s.tx)("fullscreen.toolbar.multiplayer.sharing_disabled_while_file_is_being_moved")},e=>{let t=e.getAttribute("data-tooltip-is-current-user-file-owner");return{isCurrentUserFileOwner:!!t&&JSON.parse(t),unconstrainWidth:!0}})},607108:function(e,t,r){r.d(t,{KX:()=>O,vh:()=>S,ff:()=>N});var i,n=r(853505),a=r(577851),s=r(492342),l=r(372609),o=r.n(l),d=r(91824),c=r.n(d),u=r(150105),m=r.n(u),_=r(895996),g=r.n(_),h=r(356113),p=r(568064),f=r(761926),x=r(962274),v=r(437235),b=r(110512),y=r(73838),j=r(946853),w=r(668108),T=r(116722),C=r(785316),I=r(454715),E=r(581925),k=r(15936),R=r(786700),q=r(935632);let A=y.t1.Query({fetch:async e=>(await q.R.getDefaultCollageItems({orgId:e})).data.meta});var S=((i=S||{})[i.LIBRARY_ITEM=0]="LIBRARY_ITEM",i[i.WIDGET=1]="WIDGET",i[i.PLUGIN=2]="PLUGIN",i[i.TEMPLATE=3]="TEMPLATE",i[i.FACE_STAMP=4]="FACE_STAMP",i[i.WHITEBOARD_TOOL=5]="WHITEBOARD_TOOL",i);let D=new Set([w.QM,w.Z]);function N(){let e=function(){let{productComponents:e}=(0,v.HI)(I.xQ.FigJam),t=(0,p.mE)(),r=(0,f.n3)(I.xQ.FigJam),i=(0,p.Co)(),s=(0,k.n5)(),l=function(){let e=(0,a.v9)(e=>e.recentlyUsed.whiteboardTools),t=(0,R.W)();return n.useMemo(()=>t?e.figjam.map(e=>e.id):[],[t,e])}(),d=(0,a.v9)(b.n),u=(0,a.v9)(e=>e.recentlyUsed);return(0,n.useMemo)(()=>(function(e,t,r,i,n,a,s,l){let d=t.templates.figjam.reduce((e,t)=>(e[(0,T.Wi)(t)]=t,e),{}),u={...c()(t.libraryItems.figjam,"key"),...c()(t.plugins.figjam,"id"),...d,...c()(t.widgets.figjam,"id"),...c()(t.faceStamps.figjam,"user.id"),...c()(t.whiteboardTools?.figjam,"id")},_=[...r.map(t=>({type:0,item:t,id:t.id,lastAddedAt:u["component"===t.type?t.component_key:t.key]?.last_added_at_by_user_id?.[e]})),...i.map(t=>({type:2,item:t,id:t.plugin_id,lastAddedAt:u[t.plugin_id]?.last_added_at_by_user_id?.[e]})),...n.map(t=>{let r=(0,x.hT)(t);return{type:3,item:t,id:t.template.id,lastAddedAt:u[r]?.last_added_at_by_user_id?.[e]}}),...a.map(t=>({type:1,item:t,id:t.plugin_id,lastAddedAt:u[t.plugin_id]?.last_added_at_by_user_id?.[e]})),...s.map(t=>({type:4,item:t,id:t.id,lastAddedAt:u[t.id]?.last_added_at_by_user_id?.[e]})),...l.map(t=>({type:5,item:t,id:t,lastAddedAt:u[t]?.last_added_at_by_user_id?.[e]}))],[g,h]=m()(_,e=>!!e.lastAddedAt);return[...g.sort((e,t)=>(t.lastAddedAt||0)-(e.lastAddedAt||0)),...function(e){let t={1:0,0:1,3:2,2:3,4:4,5:5};return function(e){let t=[],r=Math.max(...e.map(e=>e.length));for(let i=0;i<r;i++)e.forEach(e=>{i<e.length&&t.push(e[i])});return t}(Object.entries(o()(e,"type")).sort(([e],[r])=>(t[e]??100)-(t[r]??100)).map(([,e])=>e))}(h)].slice(0,4)})(d,u,e,t,r,i,s,l),[d,u,e,t,r,i,s,l])}(),t=function(){let e=(0,h.Pf)(),t=(0,a.v9)(e=>e.currentUserOrgId),[r]=(0,y.aM)(A(t));return(0,n.useMemo)(()=>{if("loaded"!==r.status)return[];var e=r.data;let t=[];return e.plugins.forEach(e=>{let r=(0,j.FC)(e);t.push({type:2,item:r,id:r.plugin_id})}),e.widgets.forEach(e=>{let r=(0,j.FC)(e);t.push({type:1,item:r,id:r.plugin_id})}),e.components.forEach(e=>{t.push({type:0,item:e,id:e.id})}),e.templates.forEach(e=>{t.push({type:3,item:{type:C.W.HubFile,template:e},id:e.id})}),t},[r]).filter(t=>!!(0,s.BZ)().jamgpt_recents_pin&&!e||t.id&&!D.has(t.id))}(),r=function(e){let t=(0,h.Pf)();if(!(0,s.BZ)().jamgpt_recents_pin||t)return null;for(let t of e)if(t.id&&D.has(t.id))return t;return null}(t),i=(0,h.Pf)();return(0,n.useMemo)(()=>{let n=[];r?(n.push(r),e.forEach(e=>{e.id!==r.id&&n.push(e)})):n=e,i&&(n=n.filter(e=>!(i&&D.has(e.id||""))));let a=[...n,...t].filter(e=>e.id);return g()(a,"id").slice(0,4)},[t,r,e,i])}function O(e){return(0,E.n2)(e,[])}},177285:function(e,t,r){r.d(t,{r:()=>z,Y:()=>W});var i=r(750357),n=r(853505),a=r(577851),s=r(53022),l=r.n(s),o=r(238573),d=r(100079),c=r(158639),u=r(484299),m=r(357460),_=r(136955),g=r(962274),h=r(876217),p=r(197817),f=r(270901),x=r(81397),v=r(455722),b=r(802469),y=r(860735),j=r(479852),w=r(53439),T=r(454715),C=r(260736),I=r(486474),E=r(220942),k=r(771202),R=r(608370),q=r(282411),A=r(693624),S=r(22898),D=r(876487),N=r(696779),O=r(607108),P=r(185130),H=r(982622);let B="dlt_universal_insert_item--recentItem--24K4C",L="dlt_universal_insert_item--recentItemImage--hwYfw",M=(0,d.FM)(H.qek);function U(e){return`data:image/svg+xml;utf8,${encodeURIComponent(e)}`}let V=U(`<svg width="68" height="41" viewBox="0 0 68 41" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.858643" y="0.297363" width="66.9565" height="40" fill="#F5F5F5"/>
<path d="M6.24878 6.57568L61.5614 35.8461" stroke="#E6E6E6" stroke-width="2"/>
</svg>`),F=U(`<svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.795898" y="0.795898" width="46" height="46" rx="4" fill="#F5F5F5"/>
<path d="M6.05078 6.43506L42.0168 41.4843" stroke="#E6E6E6" stroke-width="2"/>
</svg>`);function Z(e,t){let[r,i]=(0,n.useState)(0),[a,s]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(e){let t=new Image;t.addEventListener("load",function(){i(t.naturalWidth),s(t.naturalHeight)}),t.src=e}},[e]),!e||r*a>25e5?t:e}function z(e,t,r){let{item:i,type:n}=e;if(!i)return null;switch(n){case O.vh.LIBRARY_ITEM:return(r&&i.thumbnail_url?(0,o.mx)(i.thumbnail_url,"fuid",r):i.thumbnail_url)||null;case O.vh.WIDGET:return i.redirect_snapshot_url||D.$;case O.vh.PLUGIN:return i.redirect_icon_url||S.Y;case O.vh.TEMPLATE:return t(i).imageUrl||null;case O.vh.FACE_STAMP:return i.img_url||null;case O.vh.WHITEBOARD_TOOL:return(0,y.Q4)(i)}}function W(e){return(0,i.jsx)(c.X,{label:"UniversalInsertItem",children:(0,i.jsx)(G,{...e})})}function G({item:e,width:t,height:r,disableTooltips:a}){let s=(0,g.Bs)(),l=(0,n.useCallback)(e=>z(e,s),[s]);if(!e.item)return null;switch(e.type){case O.vh.LIBRARY_ITEM:return(0,i.jsx)(k.OR,{draggable:{sourceForTracking:"universal-insert-figjam-collage"},height:r||M,isDragged:a,isFigJam:!0,item:e.item,noBackground:!0,shouldHideDescription:!0,showName:!1,tooltipShownAbove:!0,width:t||M});case O.vh.WIDGET:return(0,i.jsx)(Q,{widget:e.item,disableTooltips:a,imgSrc:l(e)});case O.vh.PLUGIN:return(0,i.jsx)(K,{plugin:e.item,disableTooltips:a,imgSrc:l(e)});case O.vh.TEMPLATE:return(0,i.jsx)(Y,{template:e.item,disableTooltips:a,width:t||M,imgSrc:l(e)});case O.vh.FACE_STAMP:return(0,i.jsx)(q.N,{mini:!0,hideName:!0,user:e.item,triggeredFrom:(0,R.s)(w.Eq.RECENTS_COLLAGE)});case O.vh.WHITEBOARD_TOOL:return(0,i.jsx)(X,{tool:e.item,onInsertableResourcePointerDown:(0,A.VN)(e.item).insertToolWithDragAction,disableTooltips:a});default:return null}}function Q({widget:e,disableTooltips:t,imgSrc:r}){let n=Z(r,e.redirect_icon_url||F);return(0,i.jsx)("div",{className:B,"data-tooltip-type":t?void 0:C.fR.TEXT,"data-tooltip":t?void 0:e.name,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0,children:(0,i.jsx)(E.H,{src:n,widget:e,analytics:{triggeredFrom:"universal-insert-figjam-collage"},fillContainer:!0,clickToInsert:!1,context:j.gg.WHITEBOARD})})}function K({plugin:e,disableTooltips:t,imgSrc:r}){let{dragState:n,onInsertableResourcePointerDown:a}=(0,v.k)({clickToInsert_DEPRECATED:!1,triggeredFrom:(0,R.s)(w.Eq.RECENTS_COLLAGE),resource:e}),s=Z(r,F);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:B,"data-tooltip-type":t?void 0:C.fR.TEXT,"data-tooltip":t?void 0:e.name,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0,onPointerDown:a,role:"button",tabIndex:0,children:(0,i.jsx)("div",{className:"dlt_universal_insert_item--recentPluginImageContainer--rLG4P",children:(0,i.jsx)("img",{src:s,alt:e.name,className:L,draggable:!1})})}),(0,i.jsx)(f.E,{dragState:n})]})}function Y({template:e,disableTooltips:t,width:r,imgSrc:n}){let a,{dragState:s,onInsertableResourcePointerDown:o}=(0,b.Z)({resource:e,clickToInsert_DEPRECATED:!1,triggeredFrom:"universal-insert-figjam-collage"}),{name:d,clientMeta:c,thumbnailIsSet:u,hubFileId:_,resizedThumbnailUrls:p}=(0,g.Bs)()(e);if(p){let e=Object.keys(p).map(e=>Number(e)).sort()[0];e&&(a=p[e])}let f=Z(a||n,V);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l()(B,{[P.Z]:!!s}),"data-tooltip-type":t?void 0:C.fR.TEXT,"data-tooltip":t?void 0:d,"data-tooltip-timeout-delay":t?void 0:500,"data-tooltip-show-above":!t||void 0,onPointerDown:o,role:"button",tabIndex:0,style:{width:r,height:.6*r},children:(0,i.jsx)(I.Jr,{backgroundColor:(0,h.YI)(c),removeBorder:!0,className:l()("dlt_universal_insert_item--recentTemplateCommunityCard--Q2iWH",{"dlt_universal_insert_item--recentTemplateCommunityCardInnerImage--arNjr":!u}),children:(0,i.jsx)(N.Pk,{image:f,isSet:!!u,isWhiteboard:!0,hubFileId:_,alt:d,draggable:!1,resizedThumbnailUrls:p,thumbnailContext:m.iw.UNIVERSAL_INSERT})})}),(0,i.jsx)(x.i,{dragState:s})]})}function X({tool:e,onInsertableResourcePointerDown:t,disableTooltips:r}){let s=(0,a.I0)(),l=(0,a.v9)(e=>e.user?.id),o=n.useCallback(()=>{s(_.no({currentUserId:l,storeInRecentsKey:T.xQ.FigJam,item:{id:e,type:T._g.WhiteboardTool}}))},[l,s,e]),{dragState:d,onInsertableResourcePointerDown:c}=(0,y.pj)({resource:e,insertAction:t,clickToInsert_DEPRECATED:!1,triggeredFrom:(0,R.s)(w.Eq.RECENTS_COLLAGE),afterSuccessfulInsert:o}),m=(0,y.Q4)(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:B,"data-tooltip-type":r?void 0:C.fR.TEXT,"data-tooltip":r?void 0:(0,y.Al)(e),"data-tooltip-timeout-delay":r?void 0:500,"data-tooltip-show-above":!r||void 0,onPointerDown:c,role:"button",tabIndex:0,children:(0,i.jsx)("div",{className:"dlt_universal_insert_item--recentTool--AEy6v",children:(0,i.jsx)(u.oG,{src:m,alt:(0,y.Al)(e),className:L,draggable:!1})})}),(0,i.jsx)(p.j,{dragState:d})]})}},431569:function(e,t,r){r.d(t,{x:()=>u});var i=r(853505),n=r(577851),a=r(641857),s=r(456793),l=r(522278),o=r(338765),d=r(260251),c=r(550352);function u(e,t){let r=(0,n.I0)();return(0,i.useCallback)(()=>{(0,s.Qo)({id:"figjam-saves"}),e?(r(o.ko()),a.iTB?.triggerActionInUserEditScope("set-tool-default",{source:c.FV})):(a.iTB?.triggerActionInUserEditScope("clear-tool",{source:c.FV}),r(l.Cp()),r(o.KD({initialX:0,initialY:0,initialTab:t})),(0,d.T6)({source:c.FV},c.Z$))},[e,t,r])}},885105:function(e,t,r){r.d(t,{k:()=>a});var i=r(853505),n=r(750357);let a=(0,i.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.5 6H7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm5-1H17a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2.5v-.5A1.5 1.5 0 0 1 11 3h2a1.5 1.5 0 0 1 1.5 1.5zm-1 0v-.5A.5.5 0 0 0 13 4h-2a.5.5 0 0 0-.5.5V5zM12 12a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m1.212.687a2.5 2.5 0 1 0-2.424 0A4 4 0 0 0 8 16.5a.5.5 0 0 0 1 0 3 3 0 1 1 6 0 .5.5 0 0 0 1 0 4 4 0 0 0-2.788-3.813",clipRule:"evenodd"})})})}}]);

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3de06741817ff7e19d5ae0e5d99ec02ee409f8f3/6186-dfe3fe9ac3bd0dbe.min.js.map